<div
  id="post-{{p.ID}}"
  class="draggable"
  draggable="true"
  hx-trigger="statusUpdated"
  hx-swap="outerHTML"
>
  <div
    class="relative flex space-x-3 rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm focus-within:ring-2 focus-within:ring-emerald focus-within:ring-offset-2 hover:border-gray-400"
  >
    <div class="flex-shrink-0">
      <img
        class="h-10 w-10 rounded-full"
        src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
        alt=""
      />
    </div>
    <div
      hx-get="/admin/roadmap/post/compose?id={{p.ID}}"
      hx-params="not id"
      hx-swap="beforeend"
      hx-target="body"
      class="min-w-0 flex-1 cursor-pointer"
    >
      <div class="focus:outline-none">
        <span class="absolute inset-0" aria-hidden="true"></span>
        <p class="text-sm font-medium text-gray-900">{{p.Title}}</p>
        {% if StatusUpdated %}
        <span
          class="savedLabel text-emerald font-semibold text-sm ease-out duration-500 transition-opacity"
          >Saved!</span
        >
        {%endif%}
      </div>
    </div>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="w-4 h-4 rotate-45 text-emerald cursor-move"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"
      />
    </svg>
  </div>
</div>

{%if StatusUpdated %}
<script>
  hookDraggablePosts("post-{{p.ID}}");

  setTimeout(() => {
    const lblToHide = document.querySelector("#post-{{p.ID}} .savedLabel");

    if (lblToHide) {
      lblToHide.classList.add("opacity-0");
    }
  }, 3000);
</script>
{%endif%}
